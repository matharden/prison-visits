<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Slot Picker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="stylesheets/moj.slot-picker.css" />
  <link rel="stylesheet" href="stylesheets/moj.date-slider.css" />
  <style>
    body { margin: 20px 0 0; }
  </style>
</head>
<body>

<script type="text/html" id="SlotPicker-tmplDay">
  <li class="SlotPicker-day" id="date-{{ slot }}">
    <h2 class="SlotPicker-dayTitle">{{ date }}</h2>
    {{#if oneSlot}}
      <p class="SlotPicker-dayOneSlot">Only one time is available on this day, select it to continue</p>
    {{/if}}
    {{{ slots }}}
  </li>
</script>

<script type="text/html" id="SlotPicker-tmplTimeSlot">
  <label class="SlotPicker-label" for="slot-{{ slot }}">
    <input class="SlotPicker-slot" type="checkbox" value="{{ slot }}" id="slot-{{ slot }}">
    <strong class="SlotPicker-time">{{ time }}</strong>
    <span class="SlotPicker-duration">{{ duration }}</span>
  </label>
</script>

<script type="text/html" id="BookingCalendar-tmplRow">
  <tr>
    {{{ cells }}}
  </tr>
</script>

<script type="text/html" id="BookingCalendar-tmplDate">
  <td class="{{ klass }}">
    <div class="BookingCalendar-content">
      <a class="BookingCalendar-dateLink" data-date="{{ date }}" href="#date-{{ date }}">
        <span class="BookingCalendar-day">{{ day }}</span>
        {{#if today}}
          <span class="BookingCalendar-tag BookingCalendar-tag--today">Today</span>
        {{/if}}
        {{#if newMonth}}
          <span class="BookingCalendar-tag" id="month-{{ monthIso }}">{{ monthShort }}</span>
        {{/if}}
      </a>
    </div>
  </td>
</script>

<script type="text/html" id="SlotPicker-tmplChoice">
  <li>
    {{#if notFirst}}
      <a class="SlotPicker-icon SlotPicker-icon--promote" href="#">Promote</a>
    {{/if}}
    <a class="SlotPicker-icon SlotPicker-icon--remove" href="#">Remove</a>
    <span class="SlotPicker-position">{{ num }}</span>
    <p class="SlotPicker-date"></p>
    <p class="SlotPicker-time"></p>
    <p class="SlotPicker-prompt">Choose a date and time from the calendar</p>
  </li>
</script>

<script type="text/html" id="DateSlider-tmplDay">
  <li data-date="{{ isoDate }}" class="{{ klass }}">
    {{#if dayLabel}}
      <small>{{ weekDay }}</small>
    {{/if}}
    {{ day }}
  </li>
</script>

<script type="text/html" id="DateSlider-tmplMonth">
  <span data-date="{{ yearMonth }}">{{ month }}</span>
</script>


<div class="SlotPicker" data-today="2014-03-13">

  <div class="DateSlider" data-emulatetouch="true" data-selectonload="true">
    <div class="DateSlider-month"></div>

    <div class="DateSlider-sliders">
      <a href="#" class="DateSlider-button DateSlider-buttonLeft">&#10094;</a>
      <a href="#" class="DateSlider-button DateSlider-buttonRight">&#10095;</a>

      <div class="DateSlider-smallDates scroll">
        <ol class="DateSlider-days"></ol>
      </div>

      <div class="DateSlider-touch scroll">
        <ol class="DateSlider-days"></ol>
      </div>

      <div class="DateSlider-portalFrame"></div>

      <div class="DateSlider-largeDates scroll">
        <ol class="DateSlider-days"></ol>
      </div>
    </div>
  </div>

  
  <div class="BookingCalendar">

    <div class="BookingCalendar-header">
      <a href="#" class="BookingCalendar-nav BookingCalendar-nav--prev"></a>
      <strong class="BookingCalendar-currentMonth"></strong>
      <a href="#" class="BookingCalendar-nav BookingCalendar-nav--next"></a>
    </div>

    <table class="BookingCalendar-dates">
      <thead>
        <tr>
          <th>Mon</th>
          <th>Tue</th>
          <th>Wed</th>
          <th>Thu</th>
          <th>Fri</th>
          <th>Sat</th>
          <th>Sun</th>
        </tr>
      </thead>
    </table>

    <div class="BookingCalendar-mask">
      <table class="BookingCalendar-dates">
        <tbody class="BookingCalendar-datesBody">
        </tbody>
      </table>
    </div>

    <ul class="BookingCalendar-legend">
      <li>
        <div class="BookingCalendar-legendBox"></div>
        Available
      </li>
      <li>
        <div class="BookingCalendar-legendBox BookingCalendar-legendBox--unavailable"></div>
        Unavailable
      </li>
    </ul>
  </div>

  <div class="SlotPicker-timeSlots">
    <ul class="SlotPicker-days">
      <li class="SlotPicker-day SlotPicker-day--past">
        <h2 class="SlotPicker-dayTitle"></h2>
        <p>It is not possible to book a visit in the past.</p>
      </li>
      <li class="SlotPicker-day SlotPicker-day--unavailable">
        <h2 class="SlotPicker-dayTitle"></h2>
        <p>It is not possible to book a visit on this day.</p>
      </li>
      <li class="SlotPicker-day SlotPicker-day--beyond">
        <h2 class="SlotPicker-dayTitle"></h2>
        <p>You can only book a visit in the next {{ daysInRange }} days.</p>
      </li>
      <li class="SlotPicker-day SlotPicker-day--leadtime">
        <h2 class="SlotPicker-dayTitle"></h2>
        <p>You can only book a visit 3 days in advance.</p>
      </li>
    </ul>
  </div>

  <div class="SlotPicker-choices">
    <ul>
    </ul>
    <p class="SlotPicker-promoteHelp">Use the arrows to put your visit choices in the order that suits you best.</p>
  </div>

  <select class="SlotPicker-input">
    <option value="">none</option>
    <option value="2014-03-16-1330-1600">Sunday, 16 March -  1:30pm</option>
    <option value="2014-03-17-0130-0300">Monday, 17 March -  1:00am</option>
    <option value="2014-03-18-1400-1600">Tuesday, 18 March -  2:00pm</option>
    <option value="2014-03-19-1433-1645">Wednesday, 19 March -  2:00pm</option>
    <option value="2014-03-20-1400-1440">Thursday, 20 March -  2:00pm</option>
    <option value="2014-03-22-0915-1115">Saturday, 22 March -  9:15am</option>
    <option value="2014-03-22-1400-1600">Saturday, 22 March -  2:00pm</option>
    <option value="2014-03-23-1400-1500">Sunday, 23 March -  2:00pm</option>
    <option value="2014-03-24-1501-1602">Monday, 24 March -  2:00pm</option>
    <option value="2014-03-25-1400-1600">Tuesday, 25 March -  2:00pm</option>
    <option value="2014-03-26-1400-1600">Wednesday, 26 March -  2:00pm</option>
    <option value="2014-03-27-1400-1600">Thursday, 27 March -  2:00pm</option>
    <option value="2014-03-29-0915-1115">Saturday, 29 March -  9:15am</option>
    <option value="2014-03-29-1400-1600">Saturday, 29 March -  2:00pm</option>
    <option value="2014-03-30-1400-1600">Sunday, 30 March -  2:00pm</option>
    <option value="2014-03-31-1400-1600">Monday, 31 March -  2:00pm</option>
    <option value="2014-04-01-1400-1600">Tuesday,  1 April -  2:00pm</option>
    <option value="2014-04-02-0000-0200">Wednesday,  2 April -  12am</option>
    <option value="2014-05-01-1400-1600">Thursday,  1 May -  2:00pm</option>
  </select>
  <select class="SlotPicker-input">
    <option value="">none</option>
    <option value="2014-03-16-1330-1600">Sunday, 16 March -  1:30pm</option>
    <option value="2014-03-17-0130-0300">Monday, 17 March -  1:00am</option>
    <option value="2014-03-18-1400-1600">Tuesday, 18 March -  2:00pm</option>
    <option value="2014-03-19-1433-1645">Wednesday, 19 March -  2:00pm</option>
    <option value="2014-03-20-1400-1440">Thursday, 20 March -  2:00pm</option>
    <option value="2014-03-22-0915-1115">Saturday, 22 March -  9:15am</option>
    <option value="2014-03-22-1400-1600">Saturday, 22 March -  2:00pm</option>
    <option value="2014-03-23-1400-1500">Sunday, 23 March -  2:00pm</option>
    <option value="2014-03-24-1501-1602">Monday, 24 March -  2:00pm</option>
    <option value="2014-03-25-1400-1600">Tuesday, 25 March -  2:00pm</option>
    <option value="2014-03-26-1400-1600">Wednesday, 26 March -  2:00pm</option>
    <option value="2014-03-27-1400-1600">Thursday, 27 March -  2:00pm</option>
    <option value="2014-03-29-0915-1115">Saturday, 29 March -  9:15am</option>
    <option value="2014-03-29-1400-1600">Saturday, 29 March -  2:00pm</option>
    <option value="2014-03-30-1400-1600">Sunday, 30 March -  2:00pm</option>
    <option value="2014-03-31-1400-1600">Monday, 31 March -  2:00pm</option>
    <option value="2014-04-01-1400-1600">Tuesday,  1 April -  2:00pm</option>
    <option value="2014-04-02-0000-0200">Wednesday,  2 April -  12am</option>
    <option value="2014-05-01-1400-1600">Thursday,  1 May -  2:00pm</option>
  </select>
  <select class="SlotPicker-input">
    <option value="">none</option>
    <option value="2014-03-16-1330-1600">Sunday, 16 March -  1:30pm</option>
    <option value="2014-03-17-0130-0300">Monday, 17 March -  1:00am</option>
    <option value="2014-03-18-1400-1600">Tuesday, 18 March -  2:00pm</option>
    <option value="2014-03-19-1433-1645">Wednesday, 19 March -  2:00pm</option>
    <option value="2014-03-20-1400-1440">Thursday, 20 March -  2:00pm</option>
    <option value="2014-03-22-0915-1115">Saturday, 22 March -  9:15am</option>
    <option value="2014-03-22-1400-1600">Saturday, 22 March -  2:00pm</option>
    <option value="2014-03-23-1400-1500">Sunday, 23 March -  2:00pm</option>
    <option value="2014-03-24-1501-1602">Monday, 24 March -  2:00pm</option>
    <option value="2014-03-25-1400-1600">Tuesday, 25 March -  2:00pm</option>
    <option value="2014-03-26-1400-1600">Wednesday, 26 March -  2:00pm</option>
    <option value="2014-03-27-1400-1600">Thursday, 27 March -  2:00pm</option>
    <option value="2014-03-29-0915-1115">Saturday, 29 March -  9:15am</option>
    <option value="2014-03-29-1400-1600">Saturday, 29 March -  2:00pm</option>
    <option value="2014-03-30-1400-1600">Sunday, 30 March -  2:00pm</option>
    <option value="2014-03-31-1400-1600">Monday, 31 March -  2:00pm</option>
    <option value="2014-04-01-1400-1600">Tuesday,  1 April -  2:00pm</option>
    <option value="2014-04-02-0000-0200">Wednesday,  2 April -  12am</option>
    <option value="2014-05-01-1400-1600">Thursday,  1 May -  2:00pm</option>
  </select>

</div>


<p><a href="#" id="displayOutput">Alert chosen slots</a></p>

<script src="../vendor/modernizr.custom.44058.js"></script>
<script src="../vendor/jquery-1.11.0.js"></script>
<script src="../vendor/handlebars-v1.3.0.js"></script>

<script>var moj = moj || { Modules: {}, Helpers: {} };</script>
<script src="javascripts/moj.slot-picker.js"></script>
<script src="javascripts/moj.date-slider.js"></script>
<script>moj.Modules.SlotPicker.init();</script>
<script>moj.Modules.DateSlider.init();</script>

<script>

// Test select fields have been populated
$('#displayOutput').on('click', function(e) {
  e.preventDefault();
  var values = $('select').map(function() {
    return $(this).val();
  }).get();
  alert(values);
});

</script>
</body>
</html>
