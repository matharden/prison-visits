- content_for :header do
  %h1 Your details

%p Enter your details below. Use ‘Add another visitor’ to enter details of other visitors coming with you.

= form_for visit, url: update_step2_path do |f|

  - if visit.visitors.any? {|v| v.errors.any?}
    #error-summary.validation-summary.group(role="alert" tabindex="-1" aria-labelledby="error-heading")
      %h2#error-heading Your form could not be submitted. Please fix the errors below.
      %p You can bring up to 5 additional visitors: 2 adults (over 18) and up to 3 children (under 18)

  - visit.visitors.each_with_index do |visitor, index|
    = f.fields_for visitor, index: '' do |visitor_form|
      = render 'visitor_fields', f: visitor_form, index: index, visitor: visitor

  = f.button 'Add another visitor',  :name => 'next', :value => 'add'
  %br
  %br
  = f.button :Continue, :name => 'next', :value => 'continue', :class => 'button button-primary', :id => 'continue'
