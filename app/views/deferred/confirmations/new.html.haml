- content_for :header do
  Process a visit request

.Grid
  .Grid-2-3

    - if prison_data(booked_visit)['canned_responses']
      = render 'canned_responses'
    - else
      = render 'open_responses'

  .Grid-1-3

    %dl.labels
      %dt Prisoner:
      %dd #{booked_visit.prisoner.first_name} #{booked_visit.prisoner.last_name}
      
      %dt Number:
      %dd #{booked_visit.prisoner.number}

      %dt Date of birth:
      %dd #{booked_visit.prisoner.date_of_birth.strftime("%d/%m/%Y")}


    %hr


    - booked_visit.visitors.each_with_index do |visitor, index|
      %dl.labels
        %dt Visitor #{index + 1}:
        %dd #{visitor.first_name} #{visitor.last_name}

        %dt Age:
        %dd #{visitor.age}

        %dt Date of birth:
        %dd #{visitor.date_of_birth.strftime("%d/%m/%Y")}
        
        - if visitor.email
          %dt Email:
          %dd #{visitor.email}
        
        - if visitor.phone
          %dt Phone:
          %dd #{visitor.phone}
